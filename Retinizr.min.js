/*!
 * Retinizr - version 0.1.0
 * Author: Leonardo Domingues Schlossmacher (leods92.com)
 */(function(e){function r(e){return t.getElementsByClassName(e)}function i(e,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.onreadystatechange=function(){n.readyState===4&&n.status===200&&t()},n.send()}function s(e,t){var n=e.src.replace(/^(.*)(\.[a-z]{3,4})$/,"$1"+t+"$2");i(n,function(){e.src=n,console.log("callback called")})}function o(t){var i;t=typeof t=="object"?t:{};for(var o in n)typeof t[o]=="undefined"&&(t[o]=n[o]);i=r(t.css_class),Array.prototype.forEach.call(i,function(n){var r;if(!(n instanceof HTMLImageElement))throw"Element has class '"+t.css_class+"' but is not an img element.";r=(new RegExp(t.source_suffix+"\\.[a-z]{3,4}")).test(n.src),!r&&e.devicePixelRatio>=t.min_pixel_ratio&&s(n,t.source_suffix)})}if(!e.devicePixelRatio||!Array.prototype.forEach)return;var t=e.document,n={css_class:"hires_img",source_suffix:"@2x",min_pixel_ratio:1.5};e.Retinizr=o})(window);